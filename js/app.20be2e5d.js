(function(e){function t(t){for(var r,o,n=t[0],l=t[1],c=t[2],g=0,u=[];g<n.length;g++)o=n[g],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&u.push(s[o][0]),s[o]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);d&&d(t);while(u.length)u.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],r=!0,n=1;n<a.length;n++){var l=a[n];0!==s[l]&&(r=!1)}r&&(i.splice(t--,1),e=o(o.s=a[0]))}return e}var r={},s={app:0},i=[];function o(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=r,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(a,r,function(t){return e[t]}.bind(null,r));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=t,n=n.slice();for(var c=0;c<n.length;c++)t(n[c]);var d=l;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("cd49")},cd49:function(e,t,a){"use strict";a.r(t);var r=a("2b0e"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("Home")],1)},i=[],o=a("9ab4"),n=a("60a3"),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container mt-4"},[a("h1",{staticClass:"text-center mb-4"},[e._v("PDF Merge Tool")]),a("p",{staticClass:"text-muted text-center"},[e._v(" Merge multiple PDF files or images into a single PDF in your browser. ")]),a("b-card",{staticClass:"mb-4"},[a("h5",[e._v("Configuration Options")]),a("b-form-group",{attrs:{label:"Image Size (Scale to Fit):","label-for":"imageMode","label-cols-sm":"4"}},[a("b-form-select",{attrs:{id:"imageMode",options:e.imageModeOptions},model:{value:e.imageMode,callback:function(t){e.imageMode=t},expression:"imageMode"}}),a("small",{staticClass:"text-muted"},[e._v(" Choose a size to scale images down to fit the selected dimensions while preserving their original aspect ratio. ")])],1),a("b-form-checkbox",{staticClass:"mt-3",model:{value:e.interleave,callback:function(t){e.interleave=t},expression:"interleave"}},[a("strong",[e._v("Double-Sided Scanner Mode")]),e._v(": If you've scanned a double-sided document using a single-sided feed scanner, you likely have two separate PDFs â€” one for the odd pages and one for the even pages (in reverse order). This option interleaves the two PDFs to reconstruct the original document in the correct order. "),a("br"),a("small",{staticClass:"text-muted"},[e._v(" Works only when merging two PDFs with the same number of pages. ")])])],1),a("b-card",{staticClass:"mb-4"},[a("h5",[e._v("Upload Your Files")]),a("p",{staticClass:"text-muted"},[e._v(" Drag and drop files below or click to browse. You can reorder files in the upload area. Supported formats: JPG, JPEG, PNG, and PDF. ")]),a("file-pond",{ref:"pond",staticClass:"mb-3",attrs:{name:"files","label-idle":"Drop your files here or click to browse.","allow-reorder":!0,"allow-multiple":!0,"accepted-file-types":"image/jpeg, image/png, application/pdf",instantUpload:"false",credits:"false"}})],1),a("b-progress",{staticClass:"mb-3",attrs:{max:e.progressBar.max,hidden:e.progressBar.hidden,variant:e.progressBar.variant}},[a("b-progress-bar",{attrs:{animated:e.progressBar.animated,value:e.progressBar.value,label:e.progressBar.label}})],1),a("b-button",{staticClass:"mb-4",attrs:{block:"",variant:"primary",size:"lg"},on:{click:e.merge}},[a("b-icon",{attrs:{icon:"download"}}),e._v(" Merge Files ")],1)],1)},c=[],d=(a("0643"),a("4e3e"),a("1501")),g=a.n(d),u=a("e198"),p=a("aeb1"),h=a.n(p),f=(a("4ed3"),a("57c8"),a("1942")),m=a.n(f),v=a("2cfc"),b=a.n(v),w=a("fbd1"),P=a.n(w);const y=g()(m.a,b.a);let B=class extends n["c"]{constructor(){super(...arguments),this.imageMode=null,this.imageModeOptions=[{value:null,text:"Original Size"},{value:u["PageSizes"].Letter,text:"Letter"},{value:u["PageSizes"].A2,text:"A2"},{value:u["PageSizes"].A3,text:"A3"},{value:u["PageSizes"].A4,text:"A4"},{value:u["PageSizes"].A5,text:"A5"},{value:u["PageSizes"].A6,text:"A6"},{value:u["PageSizes"].B3,text:"B3"},{value:u["PageSizes"].B4,text:"B4"},{value:u["PageSizes"].B5,text:"B5"},{value:u["PageSizes"].B6,text:"B6"},{value:u["PageSizes"].B7,text:"B7"},{value:u["PageSizes"].B8,text:"B8"},{value:u["PageSizes"].Legal,text:"Legal"}],this.interleave=!1,this.progressBar={hidden:!0,value:10,max:20,variant:"primary",label:"",animated:!0}}merge(){this.mergeAsync()}showError(e){this.progressBar.variant="danger",this.progressBar.max=1,this.progressBar.value=1,this.progressBar.label=e,this.progressBar.hidden=!1,this.progressBar.animated=!1}resetProgressBar(e){this.progressBar.variant="primary",this.progressBar.max=e,this.progressBar.value=0,this.progressBar.label="",this.progressBar.hidden=!1,this.progressBar.animated=!0}async download(e){e.setAuthor("https://pdf.yanchen.ca/"),e.setCreator("https://pdf.yanchen.ca/"),e.setProducer("https://pdf.yanchen.ca/");const t=await e.save();h()(t,"merged.pdf","application/pdf"),this.progressBar.hidden=!0}async getPDF(e){const t=await new Response(e.file).arrayBuffer();return await u["PDFDocument"].load(t)}async mergeAsync(){const e=this.pond.getFiles(),t=await u["PDFDocument"].create();if(this.interleave){if(2!==e.length||"application/pdf"!==e[0].fileType||"application/pdf"!==e[1].fileType)return void this.showError("Double-Sided Scanner Mode only support 2 PDFs.");const a=await this.getPDF(e[0]),r=await this.getPDF(e[1]);if(a.getPageCount()!==r.getPageCount())return void this.showError("Double-Sided Scanner Mode only support 2 PDFs with same number of pages.");this.resetProgressBar(a.getPageCount());for(let e=0;e<a.getPageCount();e++){const s=await t.copyPages(a,[e]);s.forEach(e=>{t.addPage(e)});const i=await t.copyPages(r,[a.getPageCount()-1-e]);i.forEach(e=>{t.addPage(e)}),this.progressBar.value+=1}await this.download(t)}else{this.resetProgressBar(e.length);for(const a of e){switch(a.fileType){case"image/jpeg":{const e=await this.getCanvas(a.file),r=await this.getCanvasBlob(e);if(null==r)break;const s=await new Response(r).arrayBuffer(),i=await t.embedJpg(s),o=this.calculateImageSize(i),n=t.addPage(o);n.drawImage(i,{x:0,y:0,width:n.getWidth(),height:n.getHeight()});break}case"image/png":{const e=await new Response(a.file).arrayBuffer(),r=await t.embedPng(e),s=this.calculateImageSize(r),i=t.addPage(s);i.drawImage(r,{x:0,y:0,width:i.getWidth(),height:i.getHeight()});break}case"application/pdf":{const e=await new Response(a.file).arrayBuffer(),r=await u["PDFDocument"].load(e),s=await t.copyPages(r,r.getPageIndices());s.forEach(e=>{t.addPage(e)});break}}this.progressBar.value+=1}await this.download(t)}}async getCanvasBlob(e){return new Promise((function(t){e.toBlob((function(e){t(e)}),"image/jpeg")}))}async getCanvas(e){return new Promise((function(t){P()(e,e=>{t(e)},{canvas:!0})}))}calculateImageSize(e){let t=void 0;null!=this.imageMode&&(t=[this.imageMode[0],this.imageMode[1]]);const a=[e.width,e.height];if(void 0===t||t[0]>=e.width&&t[1]>=e.height)t=[a[0],a[1]];else{this.xor(t[0]>t[1],a[0]>a[1])&&(t=[t[1],t[0]]);const e=a[0]/a[1],r=t[0]/t[1];r>e?t[0]=t[1]*e:t[1]=t[0]/e}return t}xor(e,t){return e&&!t||!e&&t}};Object(o["c"])([Object(n["b"])()],B.prototype,"pond",void 0),B=Object(o["c"])([Object(n["a"])({components:{FilePond:y}})],B);var x=B,S=x,C=a("2877"),D=Object(C["a"])(S,l,c,!1,null,null,null),O=D.exports;let _=class extends n["c"]{};_=Object(o["c"])([Object(n["a"])({components:{Home:O}})],_);var M=_,j=M,z=Object(C["a"])(j,s,i,!1,null,null,null),F=z.exports,k=a("5f5b"),A=a("b1e0"),E=(a("f9e3"),a("2dd8"),a("a584"));r["default"].use(E["a"],{config:{id:"G-4B8XGRGETP",params:{send_page_view:!0}}}),r["default"].use(k["a"]),r["default"].use(A["a"]),r["default"].config.productionTip=!1,new r["default"]({render:e=>e(F)}).$mount("#app")}});
//# sourceMappingURL=app.20be2e5d.js.map